(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{89006:function(e,t,r){Promise.resolve().then(r.bind(r,3987)),Promise.resolve().then(r.t.bind(r,2778,23)),Promise.resolve().then(r.bind(r,79232))},3987:function(e,t,r){"use strict";r.d(t,{GlobalUI:function(){return S}});var a=r(57437),n=r(2265),s=r(92646);let l={success:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),error:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),warning:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),info:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},o={success:{bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-800",icon:"text-green-500"},error:{bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-800",icon:"text-red-500"},warning:{bg:"bg-amber-50 dark:bg-amber-900/20",border:"border-amber-200 dark:border-amber-800",icon:"text-amber-500"},info:{bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-800",icon:"text-blue-500"}};function i(e){let{toast:t,onDismiss:r}=e,[s,i]=(0,n.useState)(!1),c=o[t.type],d=()=>{i(!0),setTimeout(()=>{r(t.id)},200)};return(0,a.jsxs)("div",{className:"\n        flex items-start gap-3 p-4 rounded-lg border shadow-lg\n        ".concat(c.bg," ").concat(c.border,"\n        transform transition-all duration-200 ease-out\n        ").concat(s?"opacity-0 translate-x-4":"opacity-100 translate-x-0 animate-slide-in-right","\n      "),role:"alert","aria-live":"polite",children:[(0,a.jsx)("div",{className:"flex-shrink-0 ".concat(c.icon),children:l[t.type]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:t.title}),t.message&&(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:t.message}),t.undoAction&&(0,a.jsx)("button",{onClick:()=>{t.undoAction&&t.undoAction(),d()},className:"mt-2 text-sm font-medium text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:t.undoLabel||"Undo"})]}),t.dismissible&&(0,a.jsx)("button",{onClick:d,className:"flex-shrink-0 p-1 text-gray-400 hover:text-gray-500 dark:text-gray-500 dark:hover:text-gray-400 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":"Dismiss",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}function c(e){let{className:t}=e,{toasts:r,dismissToast:n}=(0,s.pm)();return 0===r.length?null:(0,a.jsx)("div",{className:"\n        fixed z-50\n        bottom-4 right-4\n        flex flex-col gap-3\n        max-w-sm w-full\n        pointer-events-none\n        ".concat(t||"","\n      "),"aria-live":"polite","aria-label":"Notifications",children:r.map(e=>(0,a.jsx)("div",{className:"pointer-events-auto",children:(0,a.jsx)(i,{toast:e,onDismiss:n})},e.id))})}var d=r(51776),u=r(5050);let h={navigation:{title:"Navigation",icon:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})},actions:{title:"Actions",icon:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})},views:{title:"Views",icon:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})},system:{title:"System",icon:(0,a.jsxs)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}},x=["navigation","actions","views","system"];function p(e){let{className:t}=e,{shortcuts:r,isHelpOpen:s,closeHelp:l}=(0,u.XU)(),o=n.useMemo(()=>{let e={navigation:[],actions:[],views:[],system:[]};for(let t of r)e[t.category].push(t);return e},[r]);return(0,a.jsx)(d.u_,{isOpen:s,onClose:l,title:"Keyboard Shortcuts",size:"md",className:t,children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Press the key combination to trigger the action. Shortcuts are disabled while typing in input fields."}),x.map(e=>{let t=o[e];if(0===t.length)return null;let r=h[e];return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[(0,a.jsx)("span",{className:"text-gray-400 dark:text-gray-500",children:r.icon}),r.title]}),(0,a.jsx)("div",{className:"space-y-2",children:t.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 rounded-lg bg-gray-50 dark:bg-gray-800/50",children:[(0,a.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:e.description}),(0,a.jsx)("kbd",{className:"inline-flex items-center justify-center min-w-[2rem] px-2 py-1 text-xs font-semibold text-gray-800 dark:text-gray-200 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded shadow-sm",children:function(e){let t="undefined"!=typeof navigator&&navigator.platform.toUpperCase().indexOf("MAC")>=0;return e.replace("⌘",t?"⌘":"Ctrl+").replace("Ctrl+",t?"⌘":"Ctrl+")}(e.displayKey)})]},e.id))})]},e)}),(0,a.jsx)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("p",{className:"text-xs text-gray-400 dark:text-gray-500 text-center",children:["Tip: Press ",(0,a.jsx)("kbd",{className:"px-1.5 py-0.5 text-xs bg-gray-100 dark:bg-gray-800 rounded border border-gray-200 dark:border-gray-700",children:"Esc"})," to close this dialog"]})})]})})}var m=r(21608),b=r(45553),g=r(94217),f=r(50588),k=r(51339);function y(e,t){let r=e.toLowerCase(),a=t.toLowerCase();if(r.includes(a)){let e=r.indexOf(a);return{score:100-e,matches:[e,e+t.length]}}let n=0,s=[],l=0,o=-1,i=0;for(let c=0;c<e.length&&l<t.length;c++)r[c]===a[l]&&(s.push(c),o===c-1&&(i+=10),n+=10+i,o=c,l++);return l<t.length?{score:0,matches:[]}:{score:n,matches:s}}let j=()=>(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),v=()=>(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),w=e=>{let{color:t="#6B7280"}=e;return(0,a.jsx)("span",{className:"w-4 h-4 flex items-center justify-center",style:{color:t},children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M3 7V17C3 18.1046 3.89543 19 5 19H19C20.1046 19 21 18.1046 21 17V9C21 7.89543 20.1046 7 19 7H13L11 5H5C3.89543 5 3 5.89543 3 7Z"})})})},N=()=>(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),C=()=>(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),L=()=>(0,a.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),M=()=>(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})});function E(){let{isOpen:e,closePalette:t}=(0,m.nH)(),{setCurrentView:r,openTaskModal:s,openProjectModal:l,openImportExportModal:o}=(0,b.qD)(),{projects:i,selectProject:c}=(0,g.C1)(),{tasks:d}=(0,f.Xi)(),{people:u}=(0,k.u$)(),[h,x]=(0,n.useState)(""),[p,E]=(0,n.useState)(0),S=(0,n.useRef)(null),_=(0,n.useRef)(null),B={dashboard:"⌘1",kanban:"⌘2",list:"⌘3",calendar:"⌘4",timeline:"⌘5",people:"⌘6"},V=(0,n.useMemo)(()=>{let e=[];return[{id:"dashboard",label:"Dashboard"},{id:"kanban",label:"Kanban Board"},{id:"list",label:"List View"},{id:"calendar",label:"Calendar"},{id:"timeline",label:"Timeline"},{id:"people",label:"People"}].forEach(n=>{e.push({id:"nav-".concat(n.id),type:"navigation",label:n.label,shortcut:B[n.id],icon:(0,a.jsx)(j,{}),action:()=>{r(n.id),t()}})}),[...d].sort((e,t)=>new Date(t.updated_at).getTime()-new Date(e.updated_at).getTime()).slice(0,10).forEach(n=>{let s=i.find(e=>e.id===n.project_id);e.push({id:"task-".concat(n.id),type:"task",label:n.title,sublabel:s?"In ".concat(s.name):void 0,icon:(0,a.jsx)(v,{}),action:()=>{c(String(n.project_id)),r("kanban"),t()}})}),i.forEach(n=>{let s=d.filter(e=>e.project_id===n.id).length;e.push({id:"project-".concat(n.id),type:"project",label:n.name,sublabel:"".concat(s," tasks"),icon:(0,a.jsx)(w,{color:n.color}),action:()=>{c(String(n.id)),r("kanban"),t()}})}),u.forEach(n=>{e.push({id:"person-".concat(n.id),type:"person",label:n.name,sublabel:n.company||n.email,icon:(0,a.jsx)(N,{}),action:()=>{r("people"),t()}})}),e.push({id:"action-new-task",type:"action",label:"Create new task",icon:(0,a.jsx)(C,{}),action:()=>{s(),t()}}),e.push({id:"action-new-project",type:"action",label:"Create new project",icon:(0,a.jsx)(C,{}),action:()=>{l(),t()}}),e.push({id:"action-new-person",type:"action",label:"Create new person",icon:(0,a.jsx)(C,{}),action:()=>{r("people"),t()}}),e.push({id:"action-export-data",type:"action",label:"Export Data",sublabel:"Download backup as JSON or SQLite",icon:(0,a.jsx)(M,{}),action:()=>{o(),t()}}),e.push({id:"action-import-data",type:"action",label:"Import Data",sublabel:"Restore from backup file",icon:(0,a.jsx)(M,{}),action:()=>{o(),t()}}),e},[d,i,u,r,c,t,s,l,o]),P=(0,n.useMemo)(()=>{if(!h.trim())return V;let e=V.map(e=>{let{score:t}=y(e.label,h),r=e.sublabel?y(e.sublabel,h).score/2:0;return{command:e,score:Math.max(t,r)}}).filter(e=>{let{score:t}=e;return t>0});return e.sort((e,t)=>t.score-e.score),e.map(e=>{let{command:t}=e;return t})},[V,h]),W=(0,n.useMemo)(()=>{let e=[],t={navigation:"Navigation",task:"Tasks",project:"Projects",person:"People",action:"Actions"},r=new Set;return P.forEach(a=>{r.has(a.type)||(r.add(a.type),e.push({type:a.type,label:t[a.type]||a.type,commands:[]})),e[e.length-1].commands.push(a)}),e},[P]);(0,n.useEffect)(()=>{e&&(x(""),E(0),setTimeout(()=>{var e;null===(e=S.current)||void 0===e||e.focus()},0))},[e]),(0,n.useEffect)(()=>{if(_.current){let e=_.current.querySelector('[data-index="'.concat(p,'"]'));e&&e.scrollIntoView({block:"nearest"})}},[p]);let z=(0,n.useCallback)(e=>{let r=P.length;switch(e.key){case"ArrowDown":e.preventDefault(),E(e=>(e+1)%r);break;case"ArrowUp":e.preventDefault(),E(e=>(e-1+r)%r);break;case"Enter":e.preventDefault(),P[p]&&P[p].action();break;case"Escape":e.preventDefault(),t()}},[P,p,t]);return e?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-[15vh] bg-black/50 backdrop-blur-sm",onClick:t,children:(0,a.jsxs)("div",{className:"w-full max-w-2xl bg-white rounded-xl shadow-2xl overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 border-b border-gray-200",children:[(0,a.jsx)(L,{}),(0,a.jsx)("input",{ref:S,type:"text",value:h,onChange:e=>{x(e.target.value),E(0)},onKeyDown:z,placeholder:"Search tasks, projects, people...",className:"flex-1 text-lg outline-none placeholder-gray-400"}),(0,a.jsx)("span",{className:"text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded",children:"ESC to close"})]}),(0,a.jsx)("div",{ref:_,className:"max-h-[60vh] overflow-y-auto py-2",children:0===W.length?(0,a.jsxs)("div",{className:"px-4 py-8 text-center text-gray-500",children:['No results found for "',h,'"']}):W.map(e=>(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:e.label}),e.commands.map(e=>{let t=P.indexOf(e),{matches:r}=h?y(e.label,h):{matches:[]};return(0,a.jsxs)("button",{"data-index":t,onClick:()=>e.action(),className:"w-full flex items-center gap-3 px-4 py-2 text-left transition-colors ".concat(t===p?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"),children:[(0,a.jsx)("span",{className:t===p?"text-blue-500":"text-gray-400",children:e.icon}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"font-medium truncate",children:function(e,t){if(0===t.length)return e;let r=[],n=0,s=new Set(t);for(let t=0;t<=e.length;t++)if(s.has(t)!==s.has(t-1)||t===e.length){if(n<t){let l=e.slice(n,t);s.has(t-1)?r.push((0,a.jsx)("mark",{className:"bg-yellow-200 text-inherit rounded px-0.5",children:l},n)):r.push(l)}n=t}return r}(e.label,r)}),e.sublabel&&(0,a.jsx)("div",{className:"text-sm text-gray-500 truncate",children:e.sublabel})]}),e.shortcut&&(0,a.jsx)("span",{className:"text-xs text-gray-400 bg-gray-100 px-2 py-0.5 rounded",children:e.shortcut})]},e.id)})]},e.type))}),(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-2 border-t border-gray-200 bg-gray-50 text-xs text-gray-500",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)("kbd",{className:"px-1.5 py-0.5 bg-white border border-gray-300 rounded shadow-sm",children:"↑"}),(0,a.jsx)("kbd",{className:"px-1.5 py-0.5 bg-white border border-gray-300 rounded shadow-sm",children:"↓"}),"to navigate"]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)("kbd",{className:"px-1.5 py-0.5 bg-white border border-gray-300 rounded shadow-sm",children:"Enter"}),"to select"]})]}),(0,a.jsxs)("span",{className:"text-gray-400",children:[P.length," results"]})]})]})}):null}function S(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c,{}),(0,a.jsx)(p,{}),(0,a.jsx)(E,{})]})}},79232:function(e,t,r){"use strict";r.d(t,{Providers:function(){return k}});var a=r(57437),n=r(2265),s=r(45553),l=r(92646),o=r(94217),i=r(50588),c=r(51339),d=r(32298),u=r(28223);let h=(0,n.createContext)(void 0);function x(e){let{children:t}=e,[r,s]=(0,n.useState)([]),[l,o]=(0,n.useState)(!1),[i,c]=(0,n.useState)(null),[d,x]=(0,n.useState)(null),p=(0,n.useCallback)(async(e,t)=>{o(!0),c(null),x({type:e,id:t});try{let r=await u.Kk(e,t);s(r)}catch(e){c(e instanceof Error?e.message:"Failed to fetch notes"),s([])}finally{o(!1)}},[]),m=(0,n.useCallback)(async e=>{o(!0),c(null);try{let t=await u.kT(e);return s(e=>[...e,t]),t}catch(t){let e=t instanceof Error?t.message:"Failed to create note";throw c(e),Error(e)}finally{o(!1)}},[]),b=(0,n.useCallback)(async(e,t)=>{o(!0),c(null);try{let r=await u.Qk(e,t);return s(t=>t.map(t=>t.id===e?r:t)),r}catch(t){let e=t instanceof Error?t.message:"Failed to update note";throw c(e),Error(e)}finally{o(!1)}},[]),g=(0,n.useCallback)(async e=>{o(!0),c(null);try{await u.f_(e),s(t=>t.filter(t=>t.id!==e))}catch(t){let e=t instanceof Error?t.message:"Failed to delete note";throw c(e),Error(e)}finally{o(!1)}},[]),f=(0,n.useCallback)(()=>{s([]),x(null),c(null)},[]);return(0,a.jsx)(h.Provider,{value:{notes:r,loading:l,error:i,currentEntity:d,fetchNotes:p,createNote:m,updateNote:b,deleteNote:g,clearNotes:f},children:t})}var p=r(5050),m=r(21608),b=r(32464),g=r(37710);function f(e){let{children:t}=e,{currentProject:r}=(0,o.Z0)();return(0,a.jsx)(i.o9,{projectId:null==r?void 0:r.id,children:t})}function k(e){let{children:t}=e;return(0,a.jsx)(s.wI,{children:(0,a.jsx)(l.VW,{children:(0,a.jsx)(o.jI,{children:(0,a.jsx)(c.ib,{children:(0,a.jsx)(d.SK,{children:(0,a.jsx)(p.vn,{children:(0,a.jsx)(m.V9,{children:(0,a.jsx)(b.Gb,{children:(0,a.jsx)(f,{children:(0,a.jsx)(g.M8,{children:(0,a.jsx)(x,{children:t})})})})})})})})})})})}},21608:function(e,t,r){"use strict";r.d(t,{V9:function(){return o},nH:function(){return i}});var a=r(57437),n=r(2265),s=r(5050);let l=(0,n.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=(0,n.useState)(!1),i=(0,n.useCallback)(()=>o(!0),[]),c=(0,n.useCallback)(()=>o(!1),[]),d=(0,n.useCallback)(()=>o(e=>!e),[]);return(0,n.useEffect)(()=>((0,s.q2)(d),()=>(0,s.q2)(null)),[d]),(0,a.jsx)(l.Provider,{value:{isOpen:r,openPalette:i,closePalette:c,togglePalette:d},children:t})}function i(){let e=(0,n.useContext)(l);if(!e)throw Error("useCommandPalette must be used within a CommandPaletteProvider");return e}},37710:function(e,t,r){"use strict";r.d(t,{F9:function(){return i},M8:function(){return o}});var a=r(57437),n=r(2265),s=r(28223);let l=(0,n.createContext)(void 0);function o(e){let{children:t,projectId:r,viewType:o,onApplyView:i}=e,[c,d]=(0,n.useState)([]),[u,h]=(0,n.useState)(!1),[x,p]=(0,n.useState)(null),m=(0,n.useMemo)(()=>c.filter(e=>{let t=!r||!e.project_id||e.project_id===r,a=!o||e.view_type===o;return t&&a&&e.is_default})[0]||null,[c,r,o]),b=(0,n.useCallback)(async(e,t)=>{h(!0),p(null);try{let r=await s.SP(e,t);d(r)}catch(e){p(e instanceof Error?e.message:"Failed to fetch saved views")}finally{h(!1)}},[]),g=(0,n.useCallback)(async e=>{h(!0),p(null);try{let t=await s.rQ(e);return d(e=>[...e,t]),t}catch(t){let e=t instanceof Error?t.message:"Failed to create saved view";throw p(e),Error(e)}finally{h(!1)}},[]),f=(0,n.useCallback)(async(e,t)=>{h(!0),p(null);try{let r=await s.FR(e,t);return d(t=>t.map(t=>t.id===e?r:t)),r}catch(t){let e=t instanceof Error?t.message:"Failed to update saved view";throw p(e),Error(e)}finally{h(!1)}},[]),k=(0,n.useCallback)(async e=>{h(!0),p(null);try{await s.ZA(e),d(t=>t.filter(t=>t.id!==e))}catch(t){let e=t instanceof Error?t.message:"Failed to delete saved view";throw p(e),Error(e)}finally{h(!1)}},[]),y=(0,n.useCallback)(async e=>{h(!0),p(null);try{let t=await s.jn(e);return d(t=>t.map(t=>({...t,is_default:t.id===e}))),t}catch(t){let e=t instanceof Error?t.message:"Failed to set default view";throw p(e),Error(e)}finally{h(!1)}},[]),j=(0,n.useCallback)(e=>c.find(t=>t.id===e),[c]),v=(0,n.useCallback)(e=>c.filter(t=>{let a=!r||!t.project_id||t.project_id===r;return t.view_type===e&&a}),[c,r]),w=(0,n.useCallback)(e=>{let t={filters:e.filters,sortBy:e.sort_by,sortOrder:e.sort_order};return i&&i(t),t},[i]),N=(0,n.useCallback)(()=>{p(null)},[]);return(0,n.useEffect)(()=>{b(r||void 0,o)},[b,r,o]),(0,a.jsx)(l.Provider,{value:{savedViews:c,defaultView:m,loading:u,error:x,fetchSavedViews:b,createSavedView:g,updateSavedView:f,deleteSavedView:k,setDefaultView:y,getSavedViewById:j,getViewsForType:v,applySavedView:w,clearError:N},children:t})}function i(){let e=(0,n.useContext)(l);if(void 0===e)throw Error("useSavedViews must be used within a SavedViewProvider");return e}},2778:function(){}},function(e){e.O(0,[461,2,217,909,971,117,744],function(){return e(e.s=89006)}),_N_E=e.O()}]);