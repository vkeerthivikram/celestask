exports.id=408,exports.ids=[408],exports.modules={714:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},3260:(e,t,a)=>{Promise.resolve().then(a.bind(a,457)),Promise.resolve().then(a.bind(a,8938))},457:(e,t,a)=>{"use strict";a.d(t,{GlobalUI:()=>P});var r=a(326),s=a(7577),n=a.n(s),i=a(7176);let l={success:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),error:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),warning:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),info:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},o={success:{bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-800",icon:"text-green-500"},error:{bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-800",icon:"text-red-500"},warning:{bg:"bg-amber-50 dark:bg-amber-900/20",border:"border-amber-200 dark:border-amber-800",icon:"text-amber-500"},info:{bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-800",icon:"text-blue-500"}};function c({toast:e,onDismiss:t}){let[a,n]=(0,s.useState)(!1),i=o[e.type],c=()=>{n(!0),setTimeout(()=>{t(e.id)},200)};return(0,r.jsxs)("div",{className:`
        flex items-start gap-3 p-4 rounded-lg border shadow-lg
        ${i.bg} ${i.border}
        transform transition-all duration-200 ease-out
        ${a?"opacity-0 translate-x-4":"opacity-100 translate-x-0 animate-slide-in-right"}
      `,role:"alert","aria-live":"polite",children:[r.jsx("div",{className:`flex-shrink-0 ${i.icon}`,children:l[e.type]}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e.title}),e.message&&r.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:e.message}),e.undoAction&&r.jsx("button",{onClick:()=>{e.undoAction&&e.undoAction(),c()},className:"mt-2 text-sm font-medium text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:e.undoLabel||"Undo"})]}),e.dismissible&&r.jsx("button",{onClick:c,className:"flex-shrink-0 p-1 text-gray-400 hover:text-gray-500 dark:text-gray-500 dark:hover:text-gray-400 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":"Dismiss",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}function d({className:e}){let{toasts:t,dismissToast:a}=(0,i.pm)();return 0===t.length?null:r.jsx("div",{className:`
        fixed z-50
        bottom-4 right-4
        flex flex-col gap-3
        max-w-sm w-full
        pointer-events-none
        ${e||""}
      `,"aria-live":"polite","aria-label":"Notifications",children:t.map(e=>r.jsx("div",{className:"pointer-events-auto",children:r.jsx(c,{toast:e,onDismiss:a})},e.id))})}var u=a(4128),h=a(1623);let p={navigation:{title:"Navigation",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})},actions:{title:"Actions",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})},views:{title:"Views",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})},system:{title:"System",icon:(0,r.jsxs)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}},y=["navigation","actions","views","system"];function f({className:e}){let{shortcuts:t,isHelpOpen:a,closeHelp:s}=(0,h.XU)(),i=n().useMemo(()=>{let e={navigation:[],actions:[],views:[],system:[]};for(let a of t)e[a.category].push(a);return e},[t]);return r.jsx(u.u_,{isOpen:a,onClose:s,title:"Keyboard Shortcuts",size:"md",className:e,children:(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Press the key combination to trigger the action. Shortcuts are disabled while typing in input fields."}),y.map(e=>{let t=i[e];if(0===t.length)return null;let a=p[e];return(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[r.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:a.icon}),a.title]}),r.jsx("div",{className:"space-y-2",children:t.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 rounded-lg bg-gray-50 dark:bg-gray-800/50",children:[r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:e.description}),r.jsx("kbd",{className:"inline-flex items-center justify-center min-w-[2rem] px-2 py-1 text-xs font-semibold text-gray-800 dark:text-gray-200 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded shadow-sm",children:function(e){let t="undefined"!=typeof navigator&&navigator.platform.toUpperCase().indexOf("MAC")>=0;return e.replace("⌘",t?"⌘":"Ctrl+").replace("Ctrl+",t?"⌘":"Ctrl+")}(e.displayKey)})]},e.id))})]},e)}),r.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("p",{className:"text-xs text-gray-400 dark:text-gray-500 text-center",children:["Tip: Press ",r.jsx("kbd",{className:"px-1.5 py-0.5 text-xs bg-gray-100 dark:bg-gray-800 rounded border border-gray-200 dark:border-gray-700",children:"Esc"})," to close this dialog"]})})]})})}var m=a(7521),g=a(8998),b=a(3510),w=a(2712),k=a(6024);function x(e,t){let a=e.toLowerCase(),r=t.toLowerCase();if(a.includes(r)){let e=a.indexOf(r);return{score:100-e,matches:[e,e+t.length]}}let s=0,n=[],i=0,l=-1,o=0;for(let c=0;c<e.length&&i<t.length;c++)a[c]===r[i]&&(n.push(c),l===c-1&&(o+=10),s+=10+o,l=c,i++);return i<t.length?{score:0,matches:[]}:{score:s,matches:n}}let j=()=>r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),v=()=>r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),C=({color:e="#6B7280"})=>r.jsx("span",{className:"w-4 h-4 flex items-center justify-center",style:{color:e},children:r.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M3 7V17C3 18.1046 3.89543 19 5 19H19C20.1046 19 21 18.1046 21 17V9C21 7.89543 20.1046 7 19 7H13L11 5H5C3.89543 5 3 5.89543 3 7Z"})})}),E=()=>r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),$=()=>r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),S=()=>r.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),N=()=>r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})});function T(){let{isOpen:e,closePalette:t}=(0,m.nH)(),{setCurrentView:a,openTaskModal:n,openProjectModal:i,openImportExportModal:l}=(0,g.qD)(),{projects:o,selectProject:c}=(0,b.C1)(),{tasks:d}=(0,w.Xi)(),{people:u}=(0,k.u$)(),[h,p]=(0,s.useState)(""),[y,f]=(0,s.useState)(0),T=(0,s.useRef)(null),P=(0,s.useRef)(null),_={dashboard:"⌘1",kanban:"⌘2",list:"⌘3",calendar:"⌘4",timeline:"⌘5",people:"⌘6"},F=(0,s.useMemo)(()=>{let e=[];return[{id:"dashboard",label:"Dashboard"},{id:"kanban",label:"Kanban Board"},{id:"list",label:"List View"},{id:"calendar",label:"Calendar"},{id:"timeline",label:"Timeline"},{id:"people",label:"People"}].forEach(s=>{e.push({id:`nav-${s.id}`,type:"navigation",label:s.label,shortcut:_[s.id],icon:r.jsx(j,{}),action:()=>{a(s.id),t()}})}),[...d].sort((e,t)=>new Date(t.updated_at).getTime()-new Date(e.updated_at).getTime()).slice(0,10).forEach(s=>{let n=o.find(e=>e.id===s.project_id);e.push({id:`task-${s.id}`,type:"task",label:s.title,sublabel:n?`In ${n.name}`:void 0,icon:r.jsx(v,{}),action:()=>{c(String(s.project_id)),a("kanban"),t()}})}),o.forEach(s=>{let n=d.filter(e=>e.project_id===s.id).length;e.push({id:`project-${s.id}`,type:"project",label:s.name,sublabel:`${n} tasks`,icon:r.jsx(C,{color:s.color}),action:()=>{c(String(s.id)),a("kanban"),t()}})}),u.forEach(s=>{e.push({id:`person-${s.id}`,type:"person",label:s.name,sublabel:s.company||s.email,icon:r.jsx(E,{}),action:()=>{a("people"),t()}})}),e.push({id:"action-new-task",type:"action",label:"Create new task",icon:r.jsx($,{}),action:()=>{n(),t()}}),e.push({id:"action-new-project",type:"action",label:"Create new project",icon:r.jsx($,{}),action:()=>{i(),t()}}),e.push({id:"action-new-person",type:"action",label:"Create new person",icon:r.jsx($,{}),action:()=>{a("people"),t()}}),e.push({id:"action-export-data",type:"action",label:"Export Data",sublabel:"Download backup as JSON or SQLite",icon:r.jsx(N,{}),action:()=>{l(),t()}}),e.push({id:"action-import-data",type:"action",label:"Import Data",sublabel:"Restore from backup file",icon:r.jsx(N,{}),action:()=>{l(),t()}}),e},[d,o,u,a,c,t,n,i,l]),L=(0,s.useMemo)(()=>{if(!h.trim())return F;let e=F.map(e=>{let{score:t}=x(e.label,h),a=e.sublabel?x(e.sublabel,h).score/2:0;return{command:e,score:Math.max(t,a)}}).filter(({score:e})=>e>0);return e.sort((e,t)=>t.score-e.score),e.map(({command:e})=>e)},[F,h]),O=(0,s.useMemo)(()=>{let e=[],t={navigation:"Navigation",task:"Tasks",project:"Projects",person:"People",action:"Actions"},a=new Set;return L.forEach(r=>{a.has(r.type)||(a.add(r.type),e.push({type:r.type,label:t[r.type]||r.type,commands:[]})),e[e.length-1].commands.push(r)}),e},[L]),K=(0,s.useCallback)(e=>{let a=L.length;switch(e.key){case"ArrowDown":e.preventDefault(),f(e=>(e+1)%a);break;case"ArrowUp":e.preventDefault(),f(e=>(e-1+a)%a);break;case"Enter":e.preventDefault(),L[y]&&L[y].action();break;case"Escape":e.preventDefault(),t()}},[L,y,t]);return e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-[15vh] bg-black/50 backdrop-blur-sm",onClick:t,children:(0,r.jsxs)("div",{className:"w-full max-w-2xl bg-white rounded-xl shadow-2xl overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 border-b border-gray-200",children:[r.jsx(S,{}),r.jsx("input",{ref:T,type:"text",value:h,onChange:e=>{p(e.target.value),f(0)},onKeyDown:K,placeholder:"Search tasks, projects, people...",className:"flex-1 text-lg outline-none placeholder-gray-400"}),r.jsx("span",{className:"text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded",children:"ESC to close"})]}),r.jsx("div",{ref:P,className:"max-h-[60vh] overflow-y-auto py-2",children:0===O.length?(0,r.jsxs)("div",{className:"px-4 py-8 text-center text-gray-500",children:['No results found for "',h,'"']}):O.map(e=>(0,r.jsxs)("div",{children:[r.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:e.label}),e.commands.map(e=>{let t=L.indexOf(e),{matches:a}=h?x(e.label,h):{matches:[]};return(0,r.jsxs)("button",{"data-index":t,onClick:()=>e.action(),className:`w-full flex items-center gap-3 px-4 py-2 text-left transition-colors ${t===y?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx("span",{className:t===y?"text-blue-500":"text-gray-400",children:e.icon}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-medium truncate",children:function(e,t){if(0===t.length)return e;let a=[],s=0,n=new Set(t);for(let t=0;t<=e.length;t++)if(n.has(t)!==n.has(t-1)||t===e.length){if(s<t){let i=e.slice(s,t);n.has(t-1)?a.push(r.jsx("mark",{className:"bg-yellow-200 text-inherit rounded px-0.5",children:i},s)):a.push(i)}s=t}return a}(e.label,a)}),e.sublabel&&r.jsx("div",{className:"text-sm text-gray-500 truncate",children:e.sublabel})]}),e.shortcut&&r.jsx("span",{className:"text-xs text-gray-400 bg-gray-100 px-2 py-0.5 rounded",children:e.shortcut})]},e.id)})]},e.type))}),(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 py-2 border-t border-gray-200 bg-gray-50 text-xs text-gray-500",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[r.jsx("kbd",{className:"px-1.5 py-0.5 bg-white border border-gray-300 rounded shadow-sm",children:"↑"}),r.jsx("kbd",{className:"px-1.5 py-0.5 bg-white border border-gray-300 rounded shadow-sm",children:"↓"}),"to navigate"]}),(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[r.jsx("kbd",{className:"px-1.5 py-0.5 bg-white border border-gray-300 rounded shadow-sm",children:"Enter"}),"to select"]})]}),(0,r.jsxs)("span",{className:"text-gray-400",children:[L.length," results"]})]})]})}):null}function P(){return(0,r.jsxs)(r.Fragment,{children:[r.jsx(d,{}),r.jsx(f,{}),r.jsx(T,{})]})}},8938:(e,t,a)=>{"use strict";a.d(t,{Providers:()=>w});var r=a(326),s=a(7577),n=a(8998),i=a(7176),l=a(3510),o=a(2712),c=a(6024),d=a(2211),u=a(1471);let h=(0,s.createContext)(void 0);function p({children:e}){let[t,a]=(0,s.useState)([]),[n,i]=(0,s.useState)(!1),[l,o]=(0,s.useState)(null),[c,d]=(0,s.useState)(null),p=(0,s.useCallback)(async(e,t)=>{i(!0),o(null),d({type:e,id:t});try{let r=await u.Kk(e,t);a(r)}catch(e){o(e instanceof Error?e.message:"Failed to fetch notes"),a([])}finally{i(!1)}},[]),y=(0,s.useCallback)(async e=>{i(!0),o(null);try{let t=await u.kT(e);return a(e=>[...e,t]),t}catch(t){let e=t instanceof Error?t.message:"Failed to create note";throw o(e),Error(e)}finally{i(!1)}},[]),f=(0,s.useCallback)(async(e,t)=>{i(!0),o(null);try{let r=await u.Qk(e,t);return a(t=>t.map(t=>t.id===e?r:t)),r}catch(t){let e=t instanceof Error?t.message:"Failed to update note";throw o(e),Error(e)}finally{i(!1)}},[]),m=(0,s.useCallback)(async e=>{i(!0),o(null);try{await u.f_(e),a(t=>t.filter(t=>t.id!==e))}catch(t){let e=t instanceof Error?t.message:"Failed to delete note";throw o(e),Error(e)}finally{i(!1)}},[]),g=(0,s.useCallback)(()=>{a([]),d(null),o(null)},[]);return r.jsx(h.Provider,{value:{notes:t,loading:n,error:l,currentEntity:c,fetchNotes:p,createNote:y,updateNote:f,deleteNote:m,clearNotes:g},children:e})}var y=a(1623),f=a(7521),m=a(7515),g=a(3747);function b({children:e}){let{currentProject:t}=(0,l.Z0)();return r.jsx(o.o9,{projectId:t?.id,children:e})}function w({children:e}){return r.jsx(n.wI,{children:r.jsx(i.VW,{children:r.jsx(l.jI,{children:r.jsx(c.ib,{children:r.jsx(d.SK,{children:r.jsx(y.vn,{children:r.jsx(f.V9,{children:r.jsx(m.Gb,{children:r.jsx(b,{children:r.jsx(g.M8,{children:r.jsx(p,{children:e})})})})})})})})})})})}},5738:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d,z:()=>c});var r=a(326),s=a(7577),n=a(1135),i=a(1009);let l={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500 disabled:bg-primary-300 disabled:cursor-not-allowed",secondary:"bg-gray-100 text-gray-900 dark:bg-gray-700 dark:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-600 focus:ring-gray-500 disabled:bg-gray-50 dark:disabled:bg-gray-800 disabled:text-gray-400",outline:"border-2 border-primary-600 text-primary-600 dark:border-primary-400 dark:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20 focus:ring-primary-500 disabled:border-gray-300 disabled:text-gray-300 dark:disabled:border-gray-600 dark:disabled:text-gray-600",ghost:"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 focus:ring-gray-500 disabled:text-gray-400 dark:disabled:text-gray-600",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 disabled:bg-red-300 disabled:cursor-not-allowed"},o={sm:"px-3 py-1.5 text-sm font-medium rounded-md",md:"px-4 py-2 text-sm font-medium rounded-md",lg:"px-6 py-3 text-base font-medium rounded-lg"},c=(0,s.forwardRef)(({className:e,variant:t="primary",size:a="md",isLoading:s=!1,leftIcon:c,rightIcon:d,fullWidth:u=!1,disabled:h,children:p,...y},f)=>{let m=h||s;return(0,r.jsxs)("button",{ref:f,className:(0,i.m6)((0,n.W)("inline-flex items-center justify-center font-medium","transition-colors duration-200 ease-in-out","focus:outline-none focus:ring-2 focus:ring-offset-2","dark:focus:ring-offset-gray-900",l[t],o[a],u&&"w-full",m&&"cursor-not-allowed opacity-60",e)),disabled:m,...y,children:[s&&(0,r.jsxs)("svg",{className:(0,n.W)("animate-spin","sm"===a?"h-3.5 w-3.5":"h-4 w-4",p||c||d?"mr-2":""),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!s&&c&&r.jsx("span",{className:"mr-2",children:c}),p,!s&&d&&r.jsx("span",{className:"ml-2",children:d})]})});c.displayName="Button";let d=c},4128:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>p,sm:()=>h,u_:()=>u});var r=a(326),s=a(7577),n=a(962),i=a(1135),l=a(1009),o=a(4019),c=a(5738);let d={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",full:"max-w-4xl"};function u({isOpen:e,onClose:t,title:a,description:u,children:h,size:p="md",showCloseButton:y=!0,closeOnOverlayClick:f=!0,closeOnEscape:m=!0,footer:g,className:b}){if((0,s.useCallback)(e=>{"Escape"===e.key&&m&&t()},[m,t]),!e)return null;let w=(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":a?"modal-title":void 0,children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm animate-fade-in",onClick:e=>{e.target===e.currentTarget&&f&&t()},"aria-hidden":"true"}),(0,r.jsxs)("div",{className:(0,l.m6)((0,i.W)("relative w-full bg-white dark:bg-gray-800 rounded-xl shadow-2xl","animate-scale-in","max-h-[90vh] flex flex-col",d[p],b)),children:[(a||y)&&(0,r.jsxs)("div",{className:"flex items-start justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{children:[a&&r.jsx("h2",{id:"modal-title",className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:a}),u&&r.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:u})]}),y&&r.jsx(c.z,{variant:"ghost",size:"sm",onClick:t,className:"p-1.5 -mr-2 -mt-1","aria-label":"Close modal",children:r.jsx(o.Z,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:h}),g&&r.jsx("div",{className:"flex items-center justify-end gap-3 p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 rounded-b-xl",children:g})]})]});return(0,n.createPortal)(w,document.body)}function h({isOpen:e,onClose:t,onConfirm:a,title:s,message:n,confirmText:i="Confirm",cancelText:l="Cancel",variant:o="danger",isLoading:d=!1}){return r.jsx(u,{isOpen:e,onClose:t,title:s,size:"sm",showCloseButton:!1,footer:(0,r.jsxs)(r.Fragment,{children:[r.jsx(c.z,{variant:"secondary",onClick:t,disabled:d,children:l}),r.jsx(c.z,{variant:"danger"===o?"danger":"primary",onClick:a,isLoading:d,children:i})]}),children:r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:n})})}let p=u},8998:(e,t,a)=>{"use strict";a.d(t,{qD:()=>l,wI:()=>i});var r=a(326),s=a(7577);let n=(0,s.createContext)(void 0);function i({children:e}){let[t,a]=(0,s.useState)(()=>!1),[i,l]=(0,s.useState)("kanban"),[o,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(!0),[h,p]=(0,s.useState)({isOpen:!1,type:null,data:null}),y=(0,s.useCallback)(()=>{u(e=>!e)},[]),f=(0,s.useCallback)(()=>{a(e=>!e)},[]),m=(0,s.useCallback)(e=>{p({isOpen:!0,type:"task",data:e})},[]),g=(0,s.useCallback)(e=>{p({isOpen:!0,type:"project",data:e})},[]),b=(0,s.useCallback)(e=>{p({isOpen:!0,type:"confirm",data:e})},[]),w=(0,s.useCallback)(()=>{p({isOpen:!0,type:"importExport",data:null})},[]),k=(0,s.useCallback)(()=>{p({isOpen:!1,type:null,data:null})},[]);return r.jsx(n.Provider,{value:{currentView:i,setCurrentView:l,currentProjectId:o,setCurrentProjectId:c,sidebarOpen:d,toggleSidebar:y,setSidebarOpen:u,modal:h,openTaskModal:m,openProjectModal:g,openConfirmModal:b,openImportExportModal:w,closeModal:k,darkMode:t,toggleDarkMode:f},children:e})}function l(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useApp must be used within an AppProvider");return e}},7521:(e,t,a)=>{"use strict";a.d(t,{V9:()=>i,nH:()=>l});var r=a(326),s=a(7577);a(1623);let n=(0,s.createContext)(void 0);function i({children:e}){let[t,a]=(0,s.useState)(!1),i=(0,s.useCallback)(()=>a(!0),[]),l=(0,s.useCallback)(()=>a(!1),[]),o=(0,s.useCallback)(()=>a(e=>!e),[]);return r.jsx(n.Provider,{value:{isOpen:t,openPalette:i,closePalette:l,togglePalette:o},children:e})}function l(){let e=(0,s.useContext)(n);if(!e)throw Error("useCommandPalette must be used within a CommandPaletteProvider");return e}},7515:(e,t,a)=>{"use strict";a.d(t,{Gb:()=>l,mZ:()=>o});var r=a(326),s=a(7577),n=a(1471);let i=(0,s.createContext)(void 0);function l({children:e,projectId:t}){let[a,l]=(0,s.useState)([]),[o,c]=(0,s.useState)(new Map),[d,u]=(0,s.useState)(!1),[h,p]=(0,s.useState)(null),y=(0,s.useMemo)(()=>t?a.filter(e=>!e.project_id||null===e.project_id||e.project_id===t):a.filter(e=>!e.project_id),[a,t]),f=(0,s.useCallback)(async e=>{u(!0),p(null);try{let t=await n.aP(e);l(t)}catch(e){p(e instanceof Error?e.message:"Failed to fetch custom fields")}finally{u(!1)}},[]),m=(0,s.useCallback)(async e=>{u(!0),p(null);try{let t=await n.KD(e);return l(e=>[...e,t]),t}catch(t){let e=t instanceof Error?t.message:"Failed to create custom field";throw p(e),Error(e)}finally{u(!1)}},[]),g=(0,s.useCallback)(async(e,t)=>{u(!0),p(null);try{let a=await n.Oq(e,t);return l(t=>t.map(t=>t.id===e?a:t)),a}catch(t){let e=t instanceof Error?t.message:"Failed to update custom field";throw p(e),Error(e)}finally{u(!1)}},[]),b=(0,s.useCallback)(async e=>{u(!0),p(null);try{await n.Hl(e),l(t=>t.filter(t=>t.id!==e))}catch(t){let e=t instanceof Error?t.message:"Failed to delete custom field";throw p(e),Error(e)}finally{u(!1)}},[]),w=(0,s.useCallback)(async e=>{u(!0),p(null);try{let t=await n.el(e);c(a=>{let r=new Map(a);return r.set(e.toString(),t),r})}catch(e){p(e instanceof Error?e.message:"Failed to fetch task custom fields")}finally{u(!1)}},[]),k=(0,s.useCallback)(async(e,t,a)=>{u(!0),p(null);try{let r=await n.e1(e,t,a);return c(a=>{let s=new Map(a),n=s.get(e.toString())||[],i=n.findIndex(e=>e.custom_field_id===t);if(i>=0){let t=[...n];t[i]=r,s.set(e.toString(),t)}else s.set(e.toString(),[...n,r]);return s}),r}catch(t){let e=t instanceof Error?t.message:"Failed to set custom field value";throw p(e),Error(e)}finally{u(!1)}},[]),x=(0,s.useCallback)(async(e,t)=>{u(!0),p(null);try{await n.P5(e,t),c(a=>{let r=new Map(a),s=r.get(e.toString())||[];return r.set(e.toString(),s.filter(e=>e.custom_field_id!==t)),r})}catch(t){let e=t instanceof Error?t.message:"Failed to delete custom field value";throw p(e),Error(e)}finally{u(!1)}},[]),j=(0,s.useCallback)(e=>{c(t=>{let a=new Map(t);return a.delete(e.toString()),a})},[]),v=(0,s.useCallback)(e=>a.find(t=>t.id===e),[a]),C=(0,s.useCallback)((e,t)=>{let a=o.get(e.toString());return a?.find(e=>e.custom_field_id===t)},[o]),E=(0,s.useCallback)(()=>{p(null)},[]);return r.jsx(i.Provider,{value:{customFields:a,availableFields:y,taskFieldValues:o,loading:d,error:h,fetchCustomFields:f,createCustomField:m,updateCustomField:g,deleteCustomField:b,fetchTaskCustomFields:w,setTaskCustomField:k,deleteTaskCustomField:x,clearTaskFieldValues:j,getCustomFieldById:v,getTaskFieldValue:C,clearError:E},children:e})}function o(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useCustomFields must be used within a CustomFieldProvider");return e}},6024:(e,t,a)=>{"use strict";a.d(t,{ib:()=>l,u$:()=>o});var r=a(326),s=a(7577),n=a(1471);let i=(0,s.createContext)(void 0);function l({children:e,projectId:t}){let[a,l]=(0,s.useState)([]),[o,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)(null),h=(0,s.useMemo)(()=>t?a.filter(e=>void 0===e.project_id||null===e.project_id||e.project_id===t):a,[a,t]),p=(0,s.useCallback)(async()=>{c(!0),u(null);try{let e=await n.kH();l(e)}catch(e){u(e instanceof Error?e.message:"Failed to fetch people")}finally{c(!1)}},[]),y=(0,s.useCallback)(async e=>{c(!0),u(null);try{let t=await n.kH(e);l(e=>{let a=new Set(e.map(e=>e.id)),r=t.filter(e=>!a.has(e.id));return[...e,...r]})}catch(e){u(e instanceof Error?e.message:"Failed to fetch people")}finally{c(!1)}},[]),f=(0,s.useCallback)(async e=>{c(!0),u(null);try{let t=await n.oO(e);return l(e=>[...e,t]),t}catch(t){let e=t instanceof Error?t.message:"Failed to create person";throw u(e),Error(e)}finally{c(!1)}},[]),m=(0,s.useCallback)(async(e,t)=>{c(!0),u(null);try{let a=await n.p6(e,t);return l(t=>t.map(t=>t.id===e?a:t)),a}catch(t){let e=t instanceof Error?t.message:"Failed to update person";throw u(e),Error(e)}finally{c(!1)}},[]),g=(0,s.useCallback)(async e=>{c(!0),u(null);try{await n.jt(e),l(t=>t.filter(t=>t.id!==e))}catch(t){let e=t instanceof Error?t.message:"Failed to delete person";throw u(e),Error(e)}finally{c(!1)}},[]),b=(0,s.useCallback)(()=>{u(null)},[]),w=(0,s.useCallback)(e=>a.find(t=>t.id===e),[a]);return r.jsx(i.Provider,{value:{people:a,projectPeople:h,loading:o,error:d,fetchPeople:p,fetchPeopleByProject:y,createPerson:f,updatePerson:m,deletePerson:g,clearError:b,getPersonById:w},children:e})}function o(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("usePeople must be used within a PeopleProvider");return e}},3510:(e,t,a)=>{"use strict";a.d(t,{C1:()=>u,LZ:()=>d,Z0:()=>c,jI:()=>o});var r=a(326),s=a(7577),n=a(1471),i=a(7176);let l=(0,s.createContext)(void 0);function o({children:e,currentProjectId:t}){let[a,o]=(0,s.useState)([]),[c,d]=(0,s.useState)(null),[u,h]=(0,s.useState)([]),[p,y]=(0,s.useState)(!1),[f,m]=(0,s.useState)(null),g=(0,i.pm)(),b=(0,s.useCallback)(async()=>{y(!0),m(null);try{let e=await n.mW();if(o(e),!c&&e.length>0){if(t){let a=e.find(e=>e.id===t);a&&d(a)}else d(e[0])}else if(t){let a=e.find(e=>e.id===t);a&&d(a)}}catch(e){m(e instanceof Error?e.message:"Failed to fetch projects")}finally{y(!1)}},[c,t]),w=(0,s.useCallback)(e=>{if(null===e){d(null);return}let t=a.find(t=>t.id===e);t&&d(t)},[a]),k=(0,s.useCallback)(async e=>{y(!0),m(null);try{let t=await n.$L(e);return o(e=>[...e,t]),g.success("Project created",`"${t.name}" has been created successfully.`),t}catch(t){let e=t instanceof Error?t.message:"Failed to create project";throw m(e),g.error("Failed to create project",e),Error(e)}finally{y(!1)}},[g]),x=(0,s.useCallback)(async(e,t)=>{y(!0),m(null);try{let a=await n.j4(e,t);return o(t=>t.map(t=>t.id===e?a:t)),c?.id===e&&d(a),g.success("Project updated",`"${a.name}" has been updated.`),a}catch(t){let e=t instanceof Error?t.message:"Failed to update project";throw m(e),g.error("Failed to update project",e),Error(e)}finally{y(!1)}},[c,g]),j=(0,s.useCallback)(async e=>{let t=a.find(t=>t.id===e);y(!0),m(null);try{if(await n.th(e),o(t=>t.filter(t=>t.id!==e)),c?.id===e){let t=a.filter(t=>t.id!==e);d(t.length>0?t[0]:null)}g.success("Project deleted",t?`"${t.name}" has been deleted.`:"Project has been deleted.")}catch(t){let e=t instanceof Error?t.message:"Failed to delete project";throw m(e),g.error("Failed to delete project",e),Error(e)}finally{y(!1)}},[c,a,g]),v=(0,s.useCallback)(()=>{m(null)},[]),C=(0,s.useCallback)(async()=>{y(!0),m(null);try{return await n.t$()}catch(t){let e=t instanceof Error?t.message:"Failed to fetch root projects";throw m(e),Error(e)}finally{y(!1)}},[]),E=(0,s.useCallback)(async e=>{y(!0),m(null);try{return await n.zm(e)}catch(t){let e=t instanceof Error?t.message:"Failed to fetch project tree";throw m(e),Error(e)}finally{y(!1)}},[]),$=(0,s.useCallback)(async e=>{y(!0),m(null);try{return await n.$_(e)}catch(t){let e=t instanceof Error?t.message:"Failed to fetch project children";throw m(e),Error(e)}finally{y(!1)}},[]),S=(0,s.useCallback)(async(e,t)=>{y(!0),m(null);try{let a=await n.Eq(e,t);return o(e=>[...e,a]),g.success("Sub-project created",`"${a.name}" has been created as a sub-project.`),a}catch(t){let e=t instanceof Error?t.message:"Failed to create subproject";throw m(e),g.error("Failed to create sub-project",e),Error(e)}finally{y(!1)}},[g]),N=(0,s.useCallback)(async(e,t)=>{y(!0),m(null);try{let a=await n.uC(e,t);return o(t=>t.map(t=>t.id===e?a:t)),c?.id===e&&d(a),g.success("Project moved",t?"Project moved to new parent.":"Project moved to root level."),a}catch(t){let e=t instanceof Error?t.message:"Failed to move project";throw m(e),g.error("Failed to move project",e),Error(e)}finally{y(!1)}},[c,g]),T=(0,s.useCallback)(async(e,t)=>{y(!0),m(null);try{let a=await n.F1(e,t);return o(t=>t.map(t=>t.id===e?a:t)),c?.id===e&&d(a),g.success("Owner updated",t?"Project owner has been set.":"Project owner has been removed."),a}catch(t){let e=t instanceof Error?t.message:"Failed to set project owner";throw m(e),g.error("Failed to set owner",e),Error(e)}finally{y(!1)}},[c,g]),P=(0,s.useCallback)(async e=>{y(!0),m(null);try{let t=await n.Ec(e);return c?.id===e&&h(t),t}catch(t){let e=t instanceof Error?t.message:"Failed to fetch project assignees";throw m(e),Error(e)}finally{y(!1)}},[c]),_=(0,s.useCallback)(async(e,t)=>{y(!0),m(null);try{let a=await n.K7(e,t);return c?.id===e&&h(e=>[...e,a]),g.success("Assignee added","Team member has been added to the project."),a}catch(t){let e=t instanceof Error?t.message:"Failed to add project assignee";throw m(e),g.error("Failed to add assignee",e),Error(e)}finally{y(!1)}},[c,g]),F=(0,s.useCallback)(async(e,t)=>{y(!0),m(null);try{await n.ty(e,t),c?.id===e&&h(e=>e.filter(e=>e.id!==t)),g.success("Assignee removed","Team member has been removed from the project.")}catch(t){let e=t instanceof Error?t.message:"Failed to remove project assignee";throw m(e),g.error("Failed to remove assignee",e),Error(e)}finally{y(!1)}},[c,g]);return r.jsx(l.Provider,{value:{projects:a,currentProject:c,currentProjectAssignees:u,loading:p,error:f,fetchProjects:b,setCurrentProject:d,setCurrentProjectById:w,createProject:k,updateProject:x,deleteProject:j,clearError:v,fetchRootProjects:C,fetchProjectTree:E,getProjectChildren:$,createSubProject:S,moveProject:N,setProjectOwner:T,fetchProjectAssignees:P,addProjectAssignee:_,removeProjectAssignee:F},children:e})}function c(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useProjects must be used within a ProjectProvider");return e}function d(e,t){let a=[],r=new Map(e.map(e=>[String(e.id),e])),s=r.get(String(t));for(;s&&s.parent_project_id;){let e=r.get(String(s.parent_project_id));if(e)a.unshift(e),s=e;else break}return a}function u(){let{currentProject:e,setCurrentProjectById:t,projects:a}=c();return{selectedProject:e?String(e.id):null,selectProject:(0,s.useCallback)(e=>{t(e?parseInt(e,10):null)},[t]),currentProject:e,projects:a}}},3747:(e,t,a)=>{"use strict";a.d(t,{F9:()=>o,M8:()=>l});var r=a(326),s=a(7577),n=a(1471);let i=(0,s.createContext)(void 0);function l({children:e,projectId:t,viewType:a,onApplyView:l}){let[o,c]=(0,s.useState)([]),[d,u]=(0,s.useState)(!1),[h,p]=(0,s.useState)(null),y=(0,s.useMemo)(()=>o.filter(e=>{let r=!t||!e.project_id||e.project_id===t,s=!a||e.view_type===a;return r&&s&&e.is_default})[0]||null,[o,t,a]),f=(0,s.useCallback)(async(e,t)=>{u(!0),p(null);try{let a=await n.SP(e,t);c(a)}catch(e){p(e instanceof Error?e.message:"Failed to fetch saved views")}finally{u(!1)}},[]),m=(0,s.useCallback)(async e=>{u(!0),p(null);try{let t=await n.rQ(e);return c(e=>[...e,t]),t}catch(t){let e=t instanceof Error?t.message:"Failed to create saved view";throw p(e),Error(e)}finally{u(!1)}},[]),g=(0,s.useCallback)(async(e,t)=>{u(!0),p(null);try{let a=await n.FR(e,t);return c(t=>t.map(t=>t.id===e?a:t)),a}catch(t){let e=t instanceof Error?t.message:"Failed to update saved view";throw p(e),Error(e)}finally{u(!1)}},[]),b=(0,s.useCallback)(async e=>{u(!0),p(null);try{await n.ZA(e),c(t=>t.filter(t=>t.id!==e))}catch(t){let e=t instanceof Error?t.message:"Failed to delete saved view";throw p(e),Error(e)}finally{u(!1)}},[]),w=(0,s.useCallback)(async e=>{u(!0),p(null);try{let t=await n.jn(e);return c(t=>t.map(t=>({...t,is_default:t.id===e}))),t}catch(t){let e=t instanceof Error?t.message:"Failed to set default view";throw p(e),Error(e)}finally{u(!1)}},[]),k=(0,s.useCallback)(e=>o.find(t=>t.id===e),[o]),x=(0,s.useCallback)(e=>o.filter(a=>{let r=!t||!a.project_id||a.project_id===t;return a.view_type===e&&r}),[o,t]),j=(0,s.useCallback)(e=>{let t={filters:e.filters,sortBy:e.sort_by,sortOrder:e.sort_order};return l&&l(t),t},[l]),v=(0,s.useCallback)(()=>{p(null)},[]);return r.jsx(i.Provider,{value:{savedViews:o,defaultView:y,loading:d,error:h,fetchSavedViews:f,createSavedView:m,updateSavedView:g,deleteSavedView:b,setDefaultView:w,getSavedViewById:k,getViewsForType:x,applySavedView:j,clearError:v},children:e})}function o(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useSavedViews must be used within a SavedViewProvider");return e}},1623:(e,t,a)=>{"use strict";a.d(t,{vn:()=>h,XU:()=>p});var r=a(326),s=a(7577);function n(e){return 1===e.length?e.toLowerCase():e}function i({shortcuts:e,enabled:t=!0,preventDefault:a=!0}){(0,s.useCallback)(r=>{if(t&&(!function(){let e=document.activeElement;if(!e)return!1;let t=e.tagName.toLowerCase();return!!("input"===t||"textarea"===t||"true"===e.getAttribute("contenteditable")||e.closest("form")||"textbox"===e.getAttribute("role"))}()||"Escape"===r.key)){for(let t of e)if(!1!==t.enabled&&function(e,t){if(n(e.key)!==n(t.key))return!1;if(t.ctrlKey||t.metaKey){if(navigator.platform.toUpperCase().indexOf("MAC"),t.ctrlKey&&!e.ctrlKey||t.metaKey&&!e.metaKey||!e.ctrlKey&&!e.metaKey)return!1}else if(e.ctrlKey&&!t.ctrlKey||e.metaKey&&!t.metaKey||e.shiftKey&&!t.shiftKey||e.altKey&&!t.altKey)return!1;return(void 0===t.shiftKey||e.shiftKey===t.shiftKey)&&(void 0===t.altKey||e.altKey===t.altKey)}(r,t)){a&&r.preventDefault(),t.action();return}}},[e,t,a])}var l=a(8998),o=a(3510);let c=[{id:"search",key:"/",description:"Focus search",category:"navigation",displayKey:"/"},{id:"new-task",key:"n",description:"Create new task",category:"actions",displayKey:"N"},{id:"new-project",key:"p",description:"Create new project",category:"actions",displayKey:"P"},{id:"view-dashboard",key:"1",description:"Go to Dashboard",category:"views",displayKey:"1"},{id:"view-kanban",key:"2",description:"Go to Kanban board",category:"views",displayKey:"2"},{id:"view-list",key:"3",description:"Go to List view",category:"views",displayKey:"3"},{id:"view-calendar",key:"4",description:"Go to Calendar",category:"views",displayKey:"4"},{id:"view-timeline",key:"5",description:"Go to Timeline",category:"views",displayKey:"5"},{id:"view-people",key:"6",description:"Go to People",category:"views",displayKey:"6"},{id:"help",key:"?",shiftKey:!0,description:"Show keyboard shortcuts",category:"system",displayKey:"?"},{id:"escape",key:"Escape",description:"Close modal / Cancel",category:"system",displayKey:"Esc"},{id:"command-palette",key:"k",ctrlKey:!0,description:"Open command palette",category:"system",displayKey:"⌘K"}],d=(0,s.createContext)(void 0),u="taskflow-shortcut-preferences";function h({children:e}){let[t,a]=(0,s.useState)(!1),[n,h]=(0,s.useState)(()=>{try{let e=localStorage.getItem(u);return e?JSON.parse(e):{}}catch{return{}}}),p=(0,l.qD)(),y=(0,o.Z0)(),f=(0,s.useMemo)(()=>c,[]),m=(0,s.useCallback)(e=>!(e in n)||n[e],[n]);(0,s.useCallback)((e,t)=>{h(a=>{let r={...a,[e]:t};return localStorage.setItem(u,JSON.stringify(r)),r})},[]);let g=(0,s.useCallback)(()=>a(!0),[]),b=(0,s.useCallback)(()=>a(!1),[]),w=(0,s.useCallback)(()=>a(e=>!e),[]);return i({shortcuts:(0,s.useMemo)(()=>{let e=[];for(let a of f){let r;if(m(a.id)){switch(a.id){case"new-task":r=()=>{p.openTaskModal()};break;case"new-project":r=()=>{p.openProjectModal()};break;case"search":r=()=>{let e=document.querySelector("[data-search-input]");e&&e.focus()};break;case"help":r=w;break;case"escape":r=()=>{p.modal.isOpen?p.closeModal():t&&b()};break;case"view-dashboard":r=()=>p.setCurrentView("dashboard");break;case"view-kanban":r=()=>p.setCurrentView("kanban");break;case"view-list":r=()=>p.setCurrentView("list");break;case"view-calendar":r=()=>p.setCurrentView("calendar");break;case"view-timeline":r=()=>p.setCurrentView("timeline");break;case"view-people":r=()=>p.setCurrentView("people");break;case"command-palette":r=()=>{};break;default:continue}e.push({key:a.key,ctrlKey:a.ctrlKey,metaKey:a.metaKey,shiftKey:a.shiftKey,altKey:a.altKey,action:r,description:a.description,enabled:!0})}}return e},[f,m,p,y,t,w,b]),enabled:!t}),i({shortcuts:[{key:"Escape",action:b,enabled:t}],enabled:!0}),r.jsx(d.Provider,{value:{shortcuts:f,isHelpOpen:t,openHelp:g,closeHelp:b,toggleHelp:w,isShortcutEnabled:m},children:e})}function p(){let e=(0,s.useContext)(d);if(!e)throw Error("useShortcuts must be used within a ShortcutProvider");return e}},2211:(e,t,a)=>{"use strict";a.d(t,{SK:()=>l,e0:()=>o});var r=a(326),s=a(7577),n=a(1471);let i=(0,s.createContext)(void 0);function l({children:e,projectId:t}){let[a,l]=(0,s.useState)([]),[o,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)(null),h=(0,s.useMemo)(()=>t?a.filter(e=>void 0===e.project_id||null===e.project_id||e.project_id===t):a,[a,t]),p=(0,s.useCallback)(async()=>{c(!0),u(null);try{let e=await n.NJ();l(e)}catch(e){u(e instanceof Error?e.message:"Failed to fetch tags")}finally{c(!1)}},[]),y=(0,s.useCallback)(async e=>{c(!0),u(null);try{let t=await n.NJ(e);l(e=>{let a=new Set(e.map(e=>e.id)),r=t.filter(e=>!a.has(e.id));return[...e,...r]})}catch(e){u(e instanceof Error?e.message:"Failed to fetch tags")}finally{c(!1)}},[]),f=(0,s.useCallback)(async e=>{c(!0),u(null);try{let t=await n.ln(e);return l(e=>[...e,t]),t}catch(t){let e=t instanceof Error?t.message:"Failed to create tag";throw u(e),Error(e)}finally{c(!1)}},[]),m=(0,s.useCallback)(async(e,t)=>{c(!0),u(null);try{let a=await n.Lp(e,t);return l(t=>t.map(t=>t.id===e?a:t)),a}catch(t){let e=t instanceof Error?t.message:"Failed to update tag";throw u(e),Error(e)}finally{c(!1)}},[]),g=(0,s.useCallback)(async e=>{c(!0),u(null);try{await n.Pn(e),l(t=>t.filter(t=>t.id!==e))}catch(t){let e=t instanceof Error?t.message:"Failed to delete tag";throw u(e),Error(e)}finally{c(!1)}},[]),b=(0,s.useCallback)(()=>{u(null)},[]),w=(0,s.useCallback)(e=>a.find(t=>t.id===e),[a]);return r.jsx(i.Provider,{value:{tags:a,availableTags:h,loading:o,error:d,fetchTags:p,fetchAvailableTags:y,createTag:f,updateTag:m,deleteTag:g,clearError:b,getTagById:w},children:e})}function o(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useTags must be used within a TagProvider");return e}},2712:(e,t,a)=>{"use strict";a.d(t,{Xi:()=>d,o9:()=>c});var r=a(326),s=a(7577),n=a(1471),i=a(7176);let l=(0,s.createContext)(void 0),o={};function c({children:e,projectId:t}){let[a,c]=(0,s.useState)([]),[d,u]=(0,s.useState)(!1),[h,p]=(0,s.useState)(null),[y,f]=(0,s.useState)(o),[m,g]=(0,s.useState)([]),b=(0,i.pm)(),w=(0,s.useMemo)(()=>{let e=[...a];if(void 0!==y.project_id&&(e=e.filter(e=>e.project_id===y.project_id)),y.status&&(e=e.filter(e=>e.status===y.status)),y.priority&&(e=e.filter(e=>e.priority===y.priority)),y.due_date_from&&(e=e.filter(e=>e.due_date&&new Date(e.due_date)>=new Date(y.due_date_from))),y.due_date_to&&(e=e.filter(e=>e.due_date&&new Date(e.due_date)<=new Date(y.due_date_to))),y.search){let t=y.search.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t))}return void 0!==y.assignee_id&&(e=e.filter(e=>e.assignee_id===y.assignee_id||e.coAssignees?.some(e=>e.person_id===y.assignee_id))),void 0!==y.tag_id&&(e=e.filter(e=>e.tags?.some(e=>e.tag_id===y.tag_id))),e},[a,y]),k=(0,s.useCallback)(e=>m.includes(e),[m]),x=(0,s.useMemo)(()=>w.length>0&&w.every(e=>m.includes(e.id)),[w,m]),j=(0,s.useMemo)(()=>m.length>0&&!x,[m.length,x]),v=(0,s.useCallback)(e=>{g(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},[]),C=(0,s.useCallback)(()=>{g(w.map(e=>e.id))},[w]),E=(0,s.useCallback)(()=>{g([])},[]),$=(0,s.useCallback)(async e=>{u(!0),p(null);try{let t=await n.Ak(e);c(t)}catch(e){p(e instanceof Error?e.message:"Failed to fetch tasks")}finally{u(!1)}},[]),S=(0,s.useCallback)(async e=>{u(!0),p(null);try{let t=await n.Ak({project_id:e});c(t)}catch(e){p(e instanceof Error?e.message:"Failed to fetch tasks")}finally{u(!1)}},[]),N=(0,s.useCallback)(e=>{f(e)},[]),T=(0,s.useCallback)((e,t)=>{f(a=>({...a,[e]:t}))},[]),P=(0,s.useCallback)(()=>{f(o)},[]),_=(0,s.useCallback)(async e=>{u(!0),p(null);try{let t=await n.vr(e);return c(e=>[...e,t]),b.success("Task created",`"${t.title}" has been created successfully.`),t}catch(t){let e=t instanceof Error?t.message:"Failed to create task";throw p(e),b.error("Failed to create task",e),Error(e)}finally{u(!1)}},[b]),F=(0,s.useCallback)(async(e,t)=>{u(!0),p(null);try{let a=await n.xJ(e,t);return c(t=>t.map(t=>t.id===e?a:t)),b.success("Task updated",`"${a.title}" has been updated.`),a}catch(t){let e=t instanceof Error?t.message:"Failed to update task";throw p(e),b.error("Failed to update task",e),Error(e)}finally{u(!1)}},[b]),L=(0,s.useCallback)(async(e,t)=>{c(a=>a.map(a=>a.id===e?{...a,status:t}:a));try{let a=await n.QW(e,t);return c(t=>t.map(t=>t.id===e?a:t)),a}catch(r){c(t=>t.map(t=>t.id===e&&a.find(t=>t.id===e)||t));let t=r instanceof Error?r.message:"Failed to update task status";throw p(t),b.error("Failed to update status",t),Error(t)}},[a,b]),O=(0,s.useCallback)(async e=>{if(0===m.length)return b.warning("No tasks selected","Please select tasks to update."),{updated:0,tasks:[]};u(!0),p(null);try{let t=await n.NR({taskIds:m,updates:e});return c(e=>e.map(e=>t.tasks.find(t=>t.id===e.id)||e)),b.success("Tasks updated",`${t.updated} task${1!==t.updated?"s":""} updated successfully.`),E(),t}catch(t){let e=t instanceof Error?t.message:"Failed to update tasks";throw p(e),b.error("Bulk update failed",e),Error(e)}finally{u(!1)}},[m,b,E]),K=(0,s.useCallback)(async()=>{if(0===m.length){b.warning("No tasks selected","Please select tasks to delete.");return}u(!0),p(null);try{let e=await n.y4(m);c(e=>e.filter(e=>!m.includes(e.id))),b.success("Tasks deleted",`${e.deleted} task${1!==e.deleted?"s":""} deleted successfully.`),E()}catch(t){let e=t instanceof Error?t.message:"Failed to delete tasks";throw p(e),b.error("Bulk delete failed",e),Error(e)}finally{u(!1)}},[m,b,E]),M=(0,s.useCallback)(async(e,t)=>{u(!0),p(null);try{let a=await n.BU(e,t);c(t=>t.map(t=>t.id===e?a:t))}catch(t){let e=t instanceof Error?t.message:"Failed to set primary assignee";throw p(e),Error(e)}finally{u(!1)}},[]),D=(0,s.useCallback)(async(e,t,a)=>{u(!0),p(null);try{let r=await n.lb(e,{person_id:t,role:a});c(t=>t.map(t=>{if(t.id===e){let e=t.coAssignees||[];return{...t,coAssignees:[...e,r]}}return t}))}catch(t){let e=t instanceof Error?t.message:"Failed to add co-assignee";throw p(e),Error(e)}finally{u(!1)}},[]),A=(0,s.useCallback)(async(e,t)=>{u(!0),p(null);try{await n.Sk(e,t),c(a=>a.map(a=>{if(a.id===e){let e=a.coAssignees?.filter(e=>e.person_id!==t)||[];return{...a,coAssignees:e}}return a}))}catch(t){let e=t instanceof Error?t.message:"Failed to remove co-assignee";throw p(e),Error(e)}finally{u(!1)}},[]),J=(0,s.useCallback)(async(e,t)=>{u(!0),p(null);try{let a=await n.yB(e,t);c(t=>t.map(t=>{if(t.id===e){let e=t.tags||[];return{...t,tags:[...e,a]}}return t}))}catch(t){let e=t instanceof Error?t.message:"Failed to add tag to task";throw p(e),Error(e)}finally{u(!1)}},[]),U=(0,s.useCallback)(async(e,t)=>{u(!0),p(null);try{await n.Vo(e,t),c(a=>a.map(a=>{if(a.id===e){let e=a.tags?.filter(e=>e.tag_id!==t)||[];return{...a,tags:e}}return a}))}catch(t){let e=t instanceof Error?t.message:"Failed to remove tag from task";throw p(e),Error(e)}finally{u(!1)}},[]),B=(0,s.useCallback)(async e=>{let t=a.find(t=>t.id===e);u(!0),p(null);try{await n._5(e),c(t=>t.filter(t=>t.id!==e)),b.success("Task deleted",t?`"${t.title}" has been deleted.`:"Task has been deleted.")}catch(t){let e=t instanceof Error?t.message:"Failed to delete task";throw p(e),b.error("Failed to delete task",e),Error(e)}finally{u(!1)}},[a,b]),V=(0,s.useCallback)(()=>{p(null)},[]),z=(0,s.useCallback)(async e=>{u(!0),p(null);try{return await n.Tt(e)}catch(t){let e=t instanceof Error?t.message:"Failed to fetch task tree";throw p(e),Error(e)}finally{u(!1)}},[]),W=(0,s.useCallback)(async e=>{u(!0),p(null);try{return await n.al(e)}catch(t){let e=t instanceof Error?t.message:"Failed to fetch task children";throw p(e),Error(e)}finally{u(!1)}},[]),R=(0,s.useCallback)(async(e,t)=>{u(!0),p(null);try{let a=await n.y3(e,t);return c(e=>[...e,a]),b.success("Subtask created",`"${a.title}" has been created as a subtask.`),a}catch(t){let e=t instanceof Error?t.message:"Failed to create subtask";throw p(e),b.error("Failed to create subtask",e),Error(e)}finally{u(!1)}},[b]),H=(0,s.useCallback)(async(e,t)=>{u(!0),p(null);try{let a=await n.bf(e,t);return c(t=>t.map(t=>t.id===e?a:t)),b.success("Task moved",t?"Task moved to new parent.":"Task moved to root level."),a}catch(t){let e=t instanceof Error?t.message:"Failed to move task";throw p(e),b.error("Failed to move task",e),Error(e)}finally{u(!1)}},[b]),I=(0,s.useCallback)(async e=>{u(!0),p(null);try{return await n.Bm(e)}catch(t){let e=t instanceof Error?t.message:"Failed to fetch root tasks";throw p(e),Error(e)}finally{u(!1)}},[]),Z=(0,s.useCallback)(async(e,t)=>{u(!0),p(null);try{let a=await n.st(e,t);return c(t=>t.map(t=>t.id===e?a:t)),b.success("Progress updated",`Progress set to ${t.progress_percent??a.progress_percent}%.`),a}catch(t){let e=t instanceof Error?t.message:"Failed to update task progress";throw p(e),b.error("Failed to update progress",e),Error(e)}finally{u(!1)}},[b]),q=(0,s.useCallback)(async e=>{u(!0),p(null);try{return await n.Ju(e)}catch(t){let e=t instanceof Error?t.message:"Failed to fetch task progress rollup";throw p(e),Error(e)}finally{u(!1)}},[]),G=(0,s.useCallback)(e=>a.find(t=>t.id===e),[a]),Q=(0,s.useCallback)(e=>w.filter(t=>t.status===e),[w]);return r.jsx(l.Provider,{value:{tasks:a,filteredTasks:w,loading:d,error:h,selectedTaskIds:m,isTaskSelected:k,isAllSelected:x,isPartialSelected:j,filters:y,setFilters:N,updateFilter:T,clearFilters:P,fetchTasks:$,fetchTasksByProject:S,createTask:_,updateTask:F,updateTaskStatus:L,deleteTask:B,clearError:V,toggleTaskSelection:v,selectAllTasks:C,clearSelection:E,bulkUpdateTasks:O,bulkDeleteTasks:K,setPrimaryAssignee:M,addCoAssignee:D,removeCoAssignee:A,addTagToTask:J,removeTagFromTask:U,fetchTaskTree:z,getTaskChildren:W,createSubTask:R,moveTask:H,fetchRootTasks:I,updateTaskProgress:Z,getTaskProgressRollup:q,getTaskById:G,getTasksByStatus:Q},children:e})}function d(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useTasks must be used within a TaskProvider");return e}},7176:(e,t,a)=>{"use strict";a.d(t,{VW:()=>o,pm:()=>c});var r=a(326),s=a(7577);let n={success:4e3,info:4e3,warning:5e3,error:6e3},i=(0,s.createContext)(void 0),l=0;function o({children:e}){let[t,a]=(0,s.useState)([]),o=(0,s.useRef)(new Map),c=(0,s.useCallback)(e=>{let t=`toast-${Date.now()}-${++l}`,r=e.duration??n[e.type],s={id:t,type:e.type,title:e.title,message:e.message,duration:r,dismissible:e.dismissible??!0,undoAction:e.undoAction,undoLabel:e.undoLabel,createdAt:Date.now()};if(a(e=>[...e,s].slice(-5)),r>0){let e=setTimeout(()=>{d(t)},r);o.current.set(t,e)}return t},[]),d=(0,s.useCallback)(e=>{let t=o.current.get(e);t&&(clearTimeout(t),o.current.delete(e)),a(t=>t.filter(t=>t.id!==e))},[]),u=(0,s.useCallback)(()=>{o.current.forEach(e=>clearTimeout(e)),o.current.clear(),a([])},[]),h=(0,s.useCallback)((e,t,a)=>c({...a,type:"success",title:e,message:t}),[c]),p=(0,s.useCallback)((e,t,a)=>c({...a,type:"error",title:e,message:t}),[c]),y=(0,s.useCallback)((e,t,a)=>c({...a,type:"warning",title:e,message:t}),[c]),f=(0,s.useCallback)((e,t,a)=>c({...a,type:"info",title:e,message:t}),[c]);return r.jsx(i.Provider,{value:{toasts:t,showToast:c,dismissToast:d,dismissAllToasts:u,success:h,error:p,warning:y,info:f},children:e})}function c(){let e=(0,s.useContext)(i);if(!e)throw Error("useToast must be used within a ToastProvider");return e}},1471:(e,t,a)=>{"use strict";a.d(t,{$L:()=>i,$_:()=>F,Ak:()=>c,BU:()=>m,Bm:()=>W,Ec:()=>D,Eq:()=>O,F1:()=>M,FR:()=>es,Hl:()=>X,Ju:()=>H,K7:()=>A,KD:()=>G,Kk:()=>S,Lp:()=>E,NJ:()=>v,NR:()=>I,Oq:()=>Q,P5:()=>et,Pn:()=>$,QW:()=>h,Qk:()=>T,SP:()=>ea,Sk:()=>f,Tt:()=>B,Vo:()=>b,ZA:()=>en,_5:()=>p,aP:()=>q,al:()=>U,bf:()=>z,e1:()=>ee,el:()=>Y,f_:()=>P,hi:()=>el,j4:()=>l,jn:()=>ei,jt:()=>j,kH:()=>w,kT:()=>N,lb:()=>y,ln:()=>C,mW:()=>n,oO:()=>k,p6:()=>x,rQ:()=>er,st:()=>R,t$:()=>_,th:()=>o,ty:()=>J,uC:()=>K,vr:()=>d,xJ:()=>u,y3:()=>V,y4:()=>Z,yB:()=>g,zm:()=>L});let r="/api";async function s(e){if(!e.ok){let t=await e.json().catch(()=>({error:{message:"An error occurred"}}));throw Error(t.error?.message||`HTTP error! status: ${e.status}`)}return(await e.json()).data}async function n(){return s(await fetch(`${r}/projects`))}async function i(e){return s(await fetch(`${r}/projects`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))}async function l(e,t){return s(await fetch(`${r}/projects/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}))}async function o(e){let t=await fetch(`${r}/projects/${e}`,{method:"DELETE"});await s(t)}async function c(e){let t=function(e){if(!e)return"";let t=new URLSearchParams;void 0!==e.project_id&&t.append("project_id",e.project_id.toString()),e.status&&t.append("status",e.status),e.priority&&t.append("priority",e.priority),e.due_date_from&&t.append("due_date_from",e.due_date_from),e.due_date_to&&t.append("due_date_to",e.due_date_to),e.search&&t.append("search",e.search),void 0!==e.assignee_id&&t.append("assignee_id",e.assignee_id.toString()),void 0!==e.tag_id&&t.append("tag_id",e.tag_id.toString());let a=t.toString();return a?`?${a}`:""}(e);return s(await fetch(`${r}/tasks${t}`))}async function d(e){return s(await fetch(`${r}/tasks`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))}async function u(e,t){return s(await fetch(`${r}/tasks/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}))}async function h(e,t){return s(await fetch(`${r}/tasks/${e}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t})}))}async function p(e){let t=await fetch(`${r}/tasks/${e}`,{method:"DELETE"});await s(t)}async function y(e,t){return s(await fetch(`${r}/tasks/${e}/assignees`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}))}async function f(e,t){let a=await fetch(`${r}/tasks/${e}/assignees/${t}`,{method:"DELETE"});await s(a)}async function m(e,t){return s(await fetch(`${r}/tasks/${e}/assignee`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({assignee_id:t})}))}async function g(e,t){return s(await fetch(`${r}/tasks/${e}/tags`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tag_id:t})}))}async function b(e,t){let a=await fetch(`${r}/tasks/${e}/tags/${t}`,{method:"DELETE"});await s(a)}async function w(e){let t=e?`?project_id=${e}`:"";return s(await fetch(`${r}/people${t}`))}async function k(e){return s(await fetch(`${r}/people`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))}async function x(e,t){return s(await fetch(`${r}/people/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}))}async function j(e){let t=await fetch(`${r}/people/${e}`,{method:"DELETE"});await s(t)}async function v(e){let t=e?`?project_id=${e}`:"";return s(await fetch(`${r}/tags${t}`))}async function C(e){return s(await fetch(`${r}/tags`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))}async function E(e,t){return s(await fetch(`${r}/tags/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}))}async function $(e){let t=await fetch(`${r}/tags/${e}`,{method:"DELETE"});await s(t)}async function S(e,t){return s(await fetch(`${r}/notes?entity_type=${e}&entity_id=${t}`))}async function N(e){return s(await fetch(`${r}/notes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))}async function T(e,t){return s(await fetch(`${r}/notes/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}))}async function P(e){let t=await fetch(`${r}/notes/${e}`,{method:"DELETE"});await s(t)}async function _(){return s(await fetch(`${r}/projects/root`))}async function F(e){return s(await fetch(`${r}/projects/${e}/children`))}async function L(e){return s(await fetch(`${r}/projects/${e}/tree`))}async function O(e,t){return s(await fetch(`${r}/projects/${e}/subprojects`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}))}async function K(e,t){return s(await fetch(`${r}/projects/${e}/move`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({parent_id:t})}))}async function M(e,t){return s(await fetch(`${r}/projects/${e}/owner`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({owner_id:t})}))}async function D(e){return s(await fetch(`${r}/projects/${e}/assignees`))}async function A(e,t){return s(await fetch(`${r}/projects/${e}/assignees`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}))}async function J(e,t){let a=await fetch(`${r}/projects/${e}/assignees/${t}`,{method:"DELETE"});await s(a)}async function U(e){return s(await fetch(`${r}/tasks/${e}/children`))}async function B(e){return s(await fetch(`${r}/tasks/${e}/tree`))}async function V(e,t){return s(await fetch(`${r}/tasks/${e}/subtasks`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}))}async function z(e,t){return s(await fetch(`${r}/tasks/${e}/move`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({parent_id:t})}))}async function W(e){return s(await fetch(`${r}/projects/${e}/tasks/root`))}async function R(e,t){return s(await fetch(`${r}/tasks/${e}/progress`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}))}async function H(e){return s(await fetch(`${r}/tasks/${e}/progress/rollup`))}async function I(e){return s(await fetch(`${r}/tasks/bulk`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))}async function Z(e){return s(await fetch(`${r}/tasks/bulk`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({taskIds:e})}))}async function q(e){let t=e?`?project_id=${e}`:"";return s(await fetch(`${r}/custom-fields${t}`))}async function G(e){return s(await fetch(`${r}/custom-fields`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))}async function Q(e,t){return s(await fetch(`${r}/custom-fields/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}))}async function X(e){let t=await fetch(`${r}/custom-fields/${e}`,{method:"DELETE"});await s(t)}async function Y(e){return s(await fetch(`${r}/tasks/${e}/custom-fields`))}async function ee(e,t,a){return s(await fetch(`${r}/tasks/${e}/custom-fields/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({value:a})}))}async function et(e,t){let a=await fetch(`${r}/tasks/${e}/custom-fields/${t}`,{method:"DELETE"});await s(a)}async function ea(e,t){let a=new URLSearchParams;e&&a.append("project_id",e),t&&a.append("view_type",t);let n=a.toString()?`?${a.toString()}`:"";return s(await fetch(`${r}/saved-views${n}`))}async function er(e){return s(await fetch(`${r}/saved-views`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))}async function es(e,t){return s(await fetch(`${r}/saved-views/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}))}async function en(e){let t=await fetch(`${r}/saved-views/${e}`,{method:"DELETE"});await s(t)}async function ei(e){return s(await fetch(`${r}/saved-views/${e}/default`,{method:"PUT"}))}let el={projects:{getAll:n,getOne:async function(e){return s(await fetch(`${r}/projects/${e}`))},create:i,update:l,delete:o,getTasks:async function(e){return s(await fetch(`${r}/projects/${e}/tasks`))},getRoot:_,getChildren:F,getDescendants:async function(e){return s(await fetch(`${r}/projects/${e}/descendants`))},getTree:L,createSub:O,move:K,setOwner:M,getAssignees:D,addAssignee:A,removeAssignee:J},tasks:{getAll:c,getOne:async function(e){return s(await fetch(`${r}/tasks/${e}`))},create:d,update:u,updateStatus:h,delete:p,getAssignees:async function(e){return s(await fetch(`${r}/tasks/${e}/assignees`))},addAssignee:y,removeAssignee:f,setPrimaryAssignee:m,getTags:async function(e){return s(await fetch(`${r}/tasks/${e}/tags`))},addTag:g,removeTag:b,getChildren:U,getDescendants:async function(e){return s(await fetch(`${r}/tasks/${e}/descendants`))},getTree:B,createSub:V,move:z,updateProgress:R,getProgressRollup:H,getRoot:W,bulkUpdate:I,bulkDelete:Z,getCustomFields:Y,setCustomField:ee,deleteCustomField:et},people:{getAll:w,getOne:async function(e){return s(await fetch(`${r}/people/${e}`))},create:k,update:x,delete:j},tags:{getAll:v,getOne:async function(e){return s(await fetch(`${r}/tags/${e}`))},create:C,update:E,delete:$},notes:{getAll:S,getOne:async function(e){return s(await fetch(`${r}/notes/${e}`))},create:N,update:T,delete:P},customFields:{getAll:q,getOne:async function(e){return s(await fetch(`${r}/custom-fields/${e}`))},create:G,update:Q,delete:X},savedViews:{getAll:ea,getOne:async function(e){return s(await fetch(`${r}/saved-views/${e}`))},create:er,update:es,delete:en,setDefault:ei},importExport:{exportData:async function(){let e=await fetch(`${r}/export`);if(!e.ok){let t=await e.json().catch(()=>({error:{message:"Export failed"}}));throw Error(t.error?.message||`HTTP error! status: ${e.status}`)}let t=await e.blob(),a=e.headers.get("Content-Disposition"),s="taskflow-export.json";if(a){let e=a.match(/filename="?(.+?)"?(?:;|$)/);e&&(s=e[1])}let n=URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download=s,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)},exportSqlite:async function(){let e=await fetch(`${r}/export/sqlite`);if(!e.ok){let t=await e.json().catch(()=>({error:{message:"SQLite export failed"}}));throw Error(t.error?.message||`HTTP error! status: ${e.status}`)}let t=await e.blob(),a=e.headers.get("Content-Disposition"),s="taskflow-backup.db";if(a){let e=a.match(/filename="?(.+?)"?(?:;|$)/);e&&(s=e[1])}let n=URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download=s,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)},getExportStatus:async function(){return s(await fetch(`${r}/export/status`))},importData:async function(e,t){return s(await fetch(`${r}/import?mode=${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))}}}},9668:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o,metadata:()=>l});var r=a(9510);a(5023);var s=a(8570);let n=(0,s.createProxy)(String.raw`/home/runner/work/task-tracking/task-tracking/client/src/app/providers.tsx#Providers`),i=(0,s.createProxy)(String.raw`/home/runner/work/task-tracking/task-tracking/client/src/app/global-ui.tsx#GlobalUI`),l={title:"TaskTrack",description:"Local-first project and task management"};function o({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{children:(0,r.jsxs)(n,{children:[e,r.jsx(i,{})]})})})}},5023:()=>{}};